{"ast":null,"code":"import { format } from \"date-fns\";\nexport const queryReport = props => {\n  const {\n    viewID,\n    startDate,\n    endDate,\n    metrics,\n    dimensions,\n    orderBy,\n    filter\n  } = props;\n\n  const requestDimensions = dimensions => {\n    let result = [];\n    dimensions.forEach(item => {\n      result.push({\n        name: item\n      });\n    });\n    return result;\n  };\n\n  return window.gapi.client.request({\n    path: \"/v4/reports:batchGet\",\n    root: \"https://analyticsreporting.googleapis.com/\",\n    method: \"POST\",\n    body: {\n      reportRequests: [{\n        viewId: viewID,\n        filtersExpression: filter,\n        dateRanges: [{\n          startDate: format(new Date(startDate), \"yyyy-MM-dd\"),\n          endDate: format(new Date(endDate), \"yyyy-MM-dd\")\n        }],\n        metrics: [{\n          expression: metrics\n        }],\n        dimensions: requestDimensions(dimensions),\n        orderBys: orderBy ? [{\n          fieldName: orderBy.fieldName,\n          sortOrder: orderBy.order\n        }] : []\n      }]\n    }\n  });\n};","map":{"version":3,"sources":["/home/whitebeard4708/Documents/Internship/VISA/react-google-analytics-dashboard-master/src/Dashboard/queryReport.js"],"names":["format","queryReport","props","viewID","startDate","endDate","metrics","dimensions","orderBy","filter","requestDimensions","result","forEach","item","push","name","window","gapi","client","request","path","root","method","body","reportRequests","viewId","filtersExpression","dateRanges","Date","expression","orderBys","fieldName","sortOrder","order"],"mappings":"AAAA,SAASA,MAAT,QAAuB,UAAvB;AAEA,OAAO,MAAMC,WAAW,GAAIC,KAAD,IAAW;AACpC,QAAM;AACJC,IAAAA,MADI;AAEJC,IAAAA,SAFI;AAGJC,IAAAA,OAHI;AAIJC,IAAAA,OAJI;AAKJC,IAAAA,UALI;AAMJC,IAAAA,OANI;AAOJC,IAAAA;AAPI,MAQFP,KARJ;;AAUA,QAAMQ,iBAAiB,GAAIH,UAAD,IAAgB;AACxC,QAAII,MAAM,GAAG,EAAb;AACAJ,IAAAA,UAAU,CAACK,OAAX,CAAoBC,IAAD,IAAU;AAC3BF,MAAAA,MAAM,CAACG,IAAP,CAAY;AACVC,QAAAA,IAAI,EAAEF;AADI,OAAZ;AAGD,KAJD;AAKA,WAAOF,MAAP;AACD,GARD;;AASA,SAAOK,MAAM,CAACC,IAAP,CAAYC,MAAZ,CAAmBC,OAAnB,CAA2B;AAChCC,IAAAA,IAAI,EAAE,sBAD0B;AAEhCC,IAAAA,IAAI,EAAE,4CAF0B;AAGhCC,IAAAA,MAAM,EAAE,MAHwB;AAIhCC,IAAAA,IAAI,EAAE;AACJC,MAAAA,cAAc,EAAE,CACd;AACEC,QAAAA,MAAM,EAAEtB,MADV;AAEEuB,QAAAA,iBAAiB,EAAEjB,MAFrB;AAGEkB,QAAAA,UAAU,EAAE,CACV;AACEvB,UAAAA,SAAS,EAAEJ,MAAM,CAAC,IAAI4B,IAAJ,CAASxB,SAAT,CAAD,EAAsB,YAAtB,CADnB;AAEEC,UAAAA,OAAO,EAAEL,MAAM,CAAC,IAAI4B,IAAJ,CAASvB,OAAT,CAAD,EAAoB,YAApB;AAFjB,SADU,CAHd;AASEC,QAAAA,OAAO,EAAE,CACP;AACEuB,UAAAA,UAAU,EAAEvB;AADd,SADO,CATX;AAcEC,QAAAA,UAAU,EAAEG,iBAAiB,CAACH,UAAD,CAd/B;AAeEuB,QAAAA,QAAQ,EAAEtB,OAAO,GACb,CACE;AACEuB,UAAAA,SAAS,EAAEvB,OAAO,CAACuB,SADrB;AAEEC,UAAAA,SAAS,EAAExB,OAAO,CAACyB;AAFrB,SADF,CADa,GAOb;AAtBN,OADc;AADZ;AAJ0B,GAA3B,CAAP;AAiCD,CArDM","sourcesContent":["import { format } from \"date-fns\";\n\nexport const queryReport = (props) => {\n  const {\n    viewID,\n    startDate,\n    endDate,\n    metrics,\n    dimensions,\n    orderBy,\n    filter,\n  } = props;\n\n  const requestDimensions = (dimensions) => {\n    let result = [];\n    dimensions.forEach((item) => {\n      result.push({\n        name: item,\n      });\n    });\n    return result;\n  };\n  return window.gapi.client.request({\n    path: \"/v4/reports:batchGet\",\n    root: \"https://analyticsreporting.googleapis.com/\",\n    method: \"POST\",\n    body: {\n      reportRequests: [\n        {\n          viewId: viewID,\n          filtersExpression: filter,\n          dateRanges: [\n            {\n              startDate: format(new Date(startDate), \"yyyy-MM-dd\"),\n              endDate: format(new Date(endDate), \"yyyy-MM-dd\"),\n            },\n          ],\n          metrics: [\n            {\n              expression: metrics,\n            },\n          ],\n          dimensions: requestDimensions(dimensions),\n          orderBys: orderBy\n            ? [\n                {\n                  fieldName: orderBy.fieldName,\n                  sortOrder: orderBy.order,\n                },\n              ]\n            : [],\n        },\n      ],\n    },\n  });\n};\n"]},"metadata":{},"sourceType":"module"}